<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Hexgame</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <script type="text/x-handlebars">
        <div class="nav_bar">
            <div class="hex_collapse hex" style="width: 125px"><div class="friendly"></div></div>
            {{#link-to 'player' tagName="span"}}Player{{/link-to}}
            {{#link-to 'edit' tagName="span"}}Editor{{/link-to}}
        </div>
        {{outlet}}
    </script>

    <script type="text/x-handlebars" id="edit">
        <table id="editor_table">
            <tr>
                <td id="info_pane">
                    <div {{action "resize" "a"}}>
                        <h3>Tiles</h3>
                        {{#if expand.a}}
                        <img src="images/tiles.png" />
                        <ol>
                            <li>Good Tiles</li>
                            <li>Unclaimed Tiles</li>
                            <li>Bad Tiles</li>
                            <li>Empty Cell</li>
                        </ol> 
                        {{/if}}
                    </div>

                    <div {{action "resize" "b" }}>
                        <h3>Directions</h3>
                        {{#if expand.b}}
                        <img src="images/directions.png" />
                        {{/if}}
                    </div>

                    <div {{action "resize" "c" }}>
                        <h3>API</h3>
                        {{#if expand.c}}
                        <ol>
                            <li>return this.move(direction): move the tile one cell</li>
                            <li>return this.attack(direction): attack any enemy on one side </li>
                            <li>return this.assimilate(direction): animate an unclaimed cell on one side</li>
                        </ol>
                        All API's must be returned and are bound to the this context.  To ensure only a single move, the return of the calls is what triggers the action.
                        All good tiles share the same instructions but have distinct contexts.  Each good tile moves in sequence, interleaved with bad tiles. In adition to the context,
                        the index and number of soliders are available in scope.
                        {{/if}}
                    </div>

                    <div {{action "resize" "d" }}>
                       <h3>Objectives</h3>
                        {{#if expand.d}}
                        The goal of Hexgame is to defeat the bad pink tiles.  You do this by teaching the good blue tiles to march, expand, and war on thier enemies.  This is done by programming them
                        where and when to strike using the console to the right.  The basics are listed here, but it will take more than that to claim victory!  The rest is to be discovered.
                        {{/if}}
                    </div>
                </td>
                <td id="editor"></td>
            </tr>
        </table>
    </script>

    <script type="text/x-handlebars" id="player">
        <table id="game_wrapper">
            <tr>
                <td id="game" rowspan="2">
                    {{#each row in organized}}
                    <div class="cell_row">
                        {{#each cell in row}}
                        {<div class="cell hex_inter hex"><div {{bind-attr class="cell.touch:touch cell.css"}}></div></div>
                        {{/each}}
                    </div>
                    {{/each}}
                </td>

                <td id="controls">
                    {{#if stopped}}<div {{action "startGame"}}    class="play"></div>
                    {{else}}       <div {{action "stopGame" }}    class="stop"></div>{{/if}}
                    <hr style="border-color: black"/>
                    {{#if paused}} <div {{action "unpauseGame" }} class="play"></div>
                    {{else}}       <div {{action "pauseGame" }}   class="pause"></div>{{/if}}
                </td>
            </tr>
            <tr>
                <td id="score">
                    <div id="score_bottom"></div>
                    <div id="score_filler"><div id="score_top"></div></div>
                </td>
            </tr>
        </table>
    </script>


    <script src="js/libs/vendor/jquery.js"></script>
    <script src="js/libs/ember-template-compiler-1.10.0.js"></script>
    <script src="js/libs/ember-1.10.0.debug.js"></script>
    <script src="js/ace/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/extern.js"></script>
    <script src="js/helpers.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
